# 知识库文档模板

知识库文档的结构不是固定的——根据项目特征动态调整章节。以下是**可选章节池**，按项目实际情况选用。

## 模板选用原则

| 项目特征 | 必选章节 | 可选章节 |
|---------|---------|---------|
| 所有项目 | 项目概述、技术架构、核心业务流程、AI 开发指南、开放问题 | — |
| 有数据库 | 领域模型、状态机与枚举 | — |
| 有外部集成 | 外部集成 | — |
| 有权限体系 | 权限与安全 | — |
| 纯前端 | — | 可省略领域模型、外部集成 |
| 微服务 | 服务间通信 | — |

## 文档头部

```markdown
# {项目名称} — 项目知识库

> 生成时间：YYYY-MM-DD
> 知识来源：代码扫描 + 人工问卷 v{N}
> 知识覆盖度：已回答 N/M 题，覆盖 X% 核心模块
> 置信度标记：🟢 已确认 | 🟡 AI 推断 | 🔴 存疑
```

## 章节模板

### 一、项目概述

```markdown
## 一、项目概述

### 1.1 项目定位
> {一句话说明项目做什么} 🟢

### 1.2 业务领域
> {所属行业/领域} 🟢

### 1.3 项目状态
> {开发中 / 已上线 / 维护中} 🟢

### 1.4 核心用户角色
> {角色列表及其主要操作} 🟢
```

### 二、技术架构

```markdown
## 二、技术架构

### 2.1 技术栈
| 层级 | 技术 | 版本 | 备注 |
|------|------|------|------|
| ... | ... | ... | ... |

### 2.2 项目结构
​```
项目目录树（标注每个模块的职责）
​```

### 2.3 架构决策记录
| 决策 | 选择 | 原因 | 置信度 |
|------|------|------|--------|
| ... | ... | ... | 🟢 |
```

### 三、领域模型

```markdown
## 三、领域模型

### 3.1 核心实体关系
​```
实体关系图（文字版 ER 图）
​```

### 3.2 实体详解
#### {实体名}
| 字段 | 类型 | 业务含义 | 备注 | 置信度 |
|------|------|---------|------|--------|
| status | int | 订单状态 | 0=待支付 1=已支付... | 🟢 |
```

### 四、核心业务流程

```markdown
## 四、核心业务流程

### 4.1 {流程名称}
**置信度**: 🟢

**完整流程**：
1. 步骤一
2. 步骤二
   - 异常路径 A：...
3. 步骤三

**关键代码位置**：
| 步骤 | 代码位置 |
|------|---------|
| 步骤一 | `com/example/XxxService.java:100` |

**业务规则**：
- 规则 1：...
```

### 五、状态机与枚举

```markdown
## 五、状态机与枚举

### 5.1 {状态字段名}
​```
状态流转图（文字版）
0(待支付) → 1(已支付) → 2(已发货) → 3(已完成)
         ↘ 4(已取消)
​```

### 5.2 枚举值速查表
| 枚举类 | 值 | 含义 | 置信度 |
|--------|---|------|--------|
| OrderStatus.PAID | 1 | 已支付 | 🟢 |
```

### 六、外部集成

```markdown
## 六、外部集成
| 服务 | 用途 | 对接方式 | 关键配置 | 置信度 |
|------|------|---------|---------|--------|
| ... | ... | ... | ... | ... |
```

### 七、权限与安全

```markdown
## 七、权限与安全

### 7.1 角色权限矩阵
| 操作 | 管理员 | 普通用户 | 访客 |
|------|--------|---------|------|
| ... | ✅ | ✅ | ❌ |
```

### 八、开放问题

```markdown
## 八、开放问题（未解决）
| # | 问题 | 关联代码 | 影响范围 |
|---|------|---------|---------|
| 1 | ... | ... | ... |
```

### 九、AI 开发指南

```markdown
## 九、AI 开发指南

### 9.1 开发时必须遵守的业务规则
1. ...

### 9.2 容易踩的坑
1. ...

### 9.3 命名约定
| 概念 | 代码命名 | 业务含义 |
|------|---------|---------|
| 用户 | User | 基础账号信息 |
```
