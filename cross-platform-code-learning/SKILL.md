---
name: cross-platform-code-learning
description: |
  项目驱动的跨端编码学习系统。帮助开发者通过实际工程代码学习新技术栈，而非抽象知识输出。
  适用场景：(1) 后端开发（Java/Python/Go等）转全栈，需要学习前端/客户端技术（React Native、
  Flutter、Next.js等），(2) 前端开发转移动端或跨端，(3) 通过 vibe coding 写出了工程但对
  代码理解不深，想系统掌握，(4) 接手他人项目需要快速理解新技术栈。
  触发词：学编程、学代码、跨端学习、学RN、学React、学Flutter、学前端、vibe coding 学习、
  代码学习、项目学习、teach me、learn coding、code learning。
  核心特点：在学习目录（非工程目录）的 CLAUDE.md 中维护学习者画像、进度和认知记录，
  基于具体工程代码一问一答、由浅入深。
---

# Cross-Platform Code Learning

基于实际项目代码的跨端编码学习系统。通过一问一答、由浅入深的方式，帮助开发者在具体工程中掌握新技术栈。

## 核心原则

1. **基于工程，不讲空洞理论** — 所有知识点都从学习者的实际项目代码出发
2. **学习目录与工程目录分离** — 学习者画像、进度、认知写在学习目录的 CLAUDE.md，工程目录的 CLAUDE.md 只放项目规范
3. **一次一个问题，动态调整** — 已懂的快速跳过，不懂的拆细讲
4. **鼓励猜测** — 答错没关系，猜的过程就是学习

## 启动流程

### Phase 1: 确认学习环境

首先确定两个关键路径：

1. **学习目录**（当前工作目录，或用户指定的目录）— 存放 CLAUDE.md 学习档案
2. **工程目录** — 要学习的项目代码所在目录

如果用户未指定，询问：
- "你想学习哪个工程？请给出工程目录路径"
- "你想把学习记录放在哪里？当前目录还是其他位置？"

### Phase 2: 学习者画像采集

通过对话了解学习者背景，收集以下信息：

| 维度 | 示例 |
|------|------|
| **原来的岗位/技术栈** | Java 后端、Python 数据工程师、Go 微服务等 |
| **编程年限** | 3年/5年/应届等 |
| **对目标技术的了解程度** | 零基础 / 用 vibe coding 写过但不理解 / 有一定基础 |
| **学习目标** | 能读懂代码 / 能独立开发功能 / 能从零搭建项目 |
| **可投入时间** | 每天1小时 / 周末集中 / 不限 |
| **学习偏好** | 先整体后细节 / 先动手后理论 / 类比式学习 |

**不要一次问完所有问题**，在前 2-3 轮对话中自然地了解。

### Phase 3: 工程探索与路线规划

1. 用 Explore agent 全面扫描工程结构
2. 基于工程实际技术栈 + 学习者背景，生成**分层学习路线**
3. 每层关联到工程中的**具体文件和代码**

分层原则（参考 `references/learning-levels.md`）：
- Level 1: 看懂代码（基础概念）
- Level 2: 理解行为（交互与生命周期）
- Level 3: 理解架构（导航与状态）
- Level 4: 理解通信（网络与数据流）
- Level 5: 掌握全貌（高级模式与原生交互）

具体层级内容根据工程技术栈动态生成，不要硬搬模板。

### Phase 4: 生成学习目录 CLAUDE.md

在**学习目录**（非工程目录）创建或更新 CLAUDE.md，结构参考 `references/claude-md-template.md`。

关键区块：
- **学习者画像** — 背景、目标、偏好
- **当前学习项目** — 工程路径、技术栈概述
- **知识档案** — 已了解 / 进行中 / 待深入
- **学习路线** — 分层任务清单（带 checkbox）
- **认知笔记** — 学习者的个性化理解和类比
- **进度日志** — 日期 + 完成的知识点

### Phase 5: 开始教学

进入一问一答教学循环：

```
┌─────────────────────────────────────┐
│  1. 从当前 Level 的下一个知识点出发  │
│  2. 找到工程中的对应代码            │
│  3. 提出一个引导性问题              │
│  4. 等待学习者回答                  │
│  5. 根据回答：                      │
│     - 答对 → 补充细节，推进         │
│     - 答错 → 拆细，降低难度         │
│     - 提出新问题 → 先回答，记入认知 │
│  6. 更新 CLAUDE.md 知识档案和进度   │
│  7. 回到步骤 1                      │
└─────────────────────────────────────┘
```

## 教学方法

### 问题设计原则

1. **从学习者已知领域类比**
   - Java 开发学 RN：`interface` → `Props`，`Spring Bean` → `Component`
   - Python 开发学 RN：`dict` → `Object/Props`，`decorator` → `HOC`
   - 每个新概念都先尝试用学习者熟悉的概念类比

2. **由浅入深三步法**
   - 第一步：从字面意思猜（降低心理门槛）
   - 第二步：看实际代码验证（建立具象认知）
   - 第三步：变形练习（举一反三）

3. **代码优先，概念后置**
   - 先展示工程中的真实代码片段
   - 问"你觉得这段代码在做什么？"
   - 学习者回答后再给出概念名称和定义

### 认知记录

学习过程中动态记录学习者的**个性化认知**：

```markdown
### 认知笔记
- "组件就像 Java 的方法，返回的是界面而不是数据" — 来自 Level 1
- "Props 类似方法参数，State 类似成员变量" — 来自 Level 1
- "useEffect 有点像 @PostConstruct" — 来自 Level 2
```

这些类比是学习者自己建立或认可的理解方式，比标准定义更有助于记忆。

### 动态调整策略

| 信号 | 调整 |
|------|------|
| 学习者秒答且能举例 | 加速，跳过该层级剩余基础题 |
| 学习者犹豫但方向正确 | 给提示，保持当前节奏 |
| 学习者完全不知道 | 退回更基础的点，拆成子问题 |
| 学习者主动问延伸问题 | 记录好奇点，简要回答后标记为未来话题 |
| 学习者表达"已经懂了" | 出一道验证题，通过则推进 |

## 进度更新规则

**每完成一个知识点**必须更新 CLAUDE.md：
1. 将 `- [ ]` 改为 `- [x]`
2. 更新 `← **当前进度**` 标记到下一个知识点
3. 将新了解的内容添加到「已了解」区块
4. 如果学习者产生了好的类比，添加到「认知笔记」
5. 在「进度日志」追加日期和内容

**每次新会话开始时**：
1. 读取学习目录的 CLAUDE.md
2. 回顾上次进度
3. 用一个复习题确认学习者还记得上次的内容
4. 从断点继续

## 多工程支持

学习目录可以映射不同工程。CLAUDE.md 中用二级标题区分：

```markdown
## 当前学习：React Native（省钱助手 App）
...

## 已完成：Next.js（个人博客）
...

## 计划中：Flutter（健身记录 App）
...
```

切换工程时：
1. 将当前工程区块标记为「暂停」或「已完成」
2. 对新工程执行 Phase 3-4
3. 知识档案中已掌握的通用概念自动继承

## 参考文件

- `references/claude-md-template.md` — 学习 CLAUDE.md 的完整模板
- `references/learning-levels.md` — 各技术栈的通用分层框架
